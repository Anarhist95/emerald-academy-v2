import { ContentTypeEnum } from '$lib/types/content/metadata/content-types.enum';
import { SubjectsEnum } from '$lib/types/content/metadata/subject.enum';
import type { SnippetOverview } from '$lib/types/content/snippet.interface';

export const overview: SnippetOverview = {
  title: 'Account Linking - Set up a Child Account',
  contentType: ContentTypeEnum.Snippet,
  author: {
    name: 'Jacob Tucker',
    socialMediaUrl: 'https://twitter.com/jacobmtucker',
    avatarUrl: 'https://avatars.githubusercontent.com/u/15198786?v=4',
    isVerified: true,
    walletAddress: '0x99bd48c8036e2876'
  },
  excerpt: 'Learn how to set up a child account for account linking.',
  metadata: {
    subjects: [SubjectsEnum.Cadence]
  },
  codeLink: 'https://run.ecdao.org/?code=I2FsbG93QWNjb3VudExpbmtpbmcKCmltcG9ydCBIeWJyaWRDdXN0b2R5IGZyb20gMHhkOGE3ZTA1YTdhYzY3MGMwCgppbXBvcnQgQ2FwYWJpbGl0eUZhY3RvcnkgZnJvbSAweGQ4YTdlMDVhN2FjNjcwYzAKaW1wb3J0IENhcGFiaWxpdHlGaWx0ZXIgZnJvbSAweGQ4YTdlMDVhN2FjNjcwYzAKCmltcG9ydCBNZXRhZGF0YVZpZXdzIGZyb20gMHgxZDdlNTdhYTU1ODE3NDQ4Cgp0cmFuc2FjdGlvbihuYW1lOiBTdHJpbmcsIGRlc2M6IFN0cmluZywgdGh1bWJuYWlsVVJMOiBTdHJpbmcpIHsKICAgIHByZXBhcmUoYWNjdDogQXV0aEFjY291bnQpIHsKICAgICAgICB2YXIgYWNjdENhcCA9IGFjY3QuZ2V0Q2FwYWJpbGl0eTwmQXV0aEFjY291bnQ%2BKEh5YnJpZEN1c3RvZHkuTGlua2VkQWNjb3VudFByaXZhdGVQYXRoKQogICAgICAgIGlmICFhY2N0Q2FwLmNoZWNrKCkgewogICAgICAgICAgICBhY2N0Q2FwID0gYWNjdC5saW5rQWNjb3VudChIeWJyaWRDdXN0b2R5LkxpbmtlZEFjY291bnRQcml2YXRlUGF0aCkhCiAgICAgICAgfQoKICAgICAgICBpZiBhY2N0LmJvcnJvdzwmSHlicmlkQ3VzdG9keS5Pd25lZEFjY291bnQ%2BKGZyb206IEh5YnJpZEN1c3RvZHkuT3duZWRBY2NvdW50U3RvcmFnZVBhdGgpID09IG5pbCB7CiAgICAgICAgICAgIGxldCBvd25lZEFjY291bnQgPC0gSHlicmlkQ3VzdG9keS5jcmVhdGVPd25lZEFjY291bnQoYWNjdDogYWNjdENhcCkKICAgICAgICAgICAgYWNjdC5zYXZlKDwtb3duZWRBY2NvdW50LCB0bzogSHlicmlkQ3VzdG9keS5Pd25lZEFjY291bnRTdG9yYWdlUGF0aCkKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIHRoYXQgcGF0aHMgYXJlIGFsbCBjb25maWd1cmVkIHByb3Blcmx5CiAgICAgICAgYWNjdC51bmxpbmsoSHlicmlkQ3VzdG9keS5Pd25lZEFjY291bnRQcml2YXRlUGF0aCkKICAgICAgICBhY2N0Lmxpbms8Jkh5YnJpZEN1c3RvZHkuT3duZWRBY2NvdW50e0h5YnJpZEN1c3RvZHkuQm9ycm93YWJsZUFjY291bnQsIEh5YnJpZEN1c3RvZHkuT3duZWRBY2NvdW50UHVibGljLCBNZXRhZGF0YVZpZXdzLlJlc29sdmVyfT4oSHlicmlkQ3VzdG9keS5Pd25lZEFjY291bnRQcml2YXRlUGF0aCwgdGFyZ2V0OiBIeWJyaWRDdXN0b2R5Lk93bmVkQWNjb3VudFN0b3JhZ2VQYXRoKQoKICAgICAgICBhY2N0LnVubGluayhIeWJyaWRDdXN0b2R5Lk93bmVkQWNjb3VudFB1YmxpY1BhdGgpCiAgICAgICAgYWNjdC5saW5rPCZIeWJyaWRDdXN0b2R5Lk93bmVkQWNjb3VudHtIeWJyaWRDdXN0b2R5Lk93bmVkQWNjb3VudFB1YmxpYywgTWV0YWRhdGFWaWV3cy5SZXNvbHZlcn0%2BKEh5YnJpZEN1c3RvZHkuT3duZWRBY2NvdW50UHVibGljUGF0aCwgdGFyZ2V0OiBIeWJyaWRDdXN0b2R5Lk93bmVkQWNjb3VudFN0b3JhZ2VQYXRoKQoKICAgICAgICBsZXQgY2hpbGQgPSBhY2N0LmJvcnJvdzwmSHlicmlkQ3VzdG9keS5Pd25lZEFjY291bnQ%2BKGZyb206IEh5YnJpZEN1c3RvZHkuT3duZWRBY2NvdW50U3RvcmFnZVBhdGgpIQoKICAgICAgICBsZXQgdGh1bWJuYWlsID0gTWV0YWRhdGFWaWV3cy5IVFRQRmlsZSh1cmw6IHRodW1ibmFpbFVSTCkKICAgICAgICBsZXQgZGlzcGxheSA9IE1ldGFkYXRhVmlld3MuRGlzcGxheShuYW1lOiBuYW1lLCBkZXNjcmlwdGlvbjogZGVzYywgdGh1bWJuYWlsOiB0aHVtYm5haWwpCiAgICAgICAgY2hpbGQuc2V0RGlzcGxheShkaXNwbGF5KQogICAgfQp9CiA%3D&network=mainnet&args=eyJuYW1lIjoiTXkgQXBwbGljYXRpb24gTmFtZSIsImRlc2MiOiJUaGlzIGlzIGEgZGVzY3JpcHRpb24gZm9yIHlvdXIgYXBwIiwidGh1bWJuYWlsVVJMIjoiaHR0cHM6Ly9hdmF0YXJzLmZsb3d0eS5pby82LngvdGh1bWJzL3BuZz9zZWVkPTB4MTIzNDUifQ%3D%3D'
};
